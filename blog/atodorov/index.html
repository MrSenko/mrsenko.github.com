<!DOCTYPE HTML>
<html>
	<head>
                <script src="https://cdn.optimizely.com/js/5899451178.js"></script>
		<title>Mr. Senko - Open Source Wizards - Articles by Alexander Todorov</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="" />
                <meta name="google-site-verification" content="fDhfvNtsr-Oqa-_-cJ_1viTvXhEWDFXRDC8oZnXV-To" />
		<!--[if lte IE 8]><script src="http://mrsenko.com/theme/js/html5shiv.js"></script><![endif]-->
		<script src="http://mrsenko.com/theme/js/jquery.min.js"></script>
		<script src="http://mrsenko.com/theme/js/skel.min.js"></script>
		<script src="http://mrsenko.com/theme/js/skel-layers.min.js"></script>
                <script src="http://mrsenko.com/js/list-v1.2.0.min.js"></script>
<script>
/*
	Spatial by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
*/

(function($) {

	skel.init({
		reset: 'full',
		breakpoints: {
			global: {
				href: 'http://mrsenko.com/theme/css/style.css',
				containers: 1400,
				grid: { gutters: ['2em', 0] }
			},
			xlarge: {
				media: '(max-width: 1680px)',
				href: 'http://mrsenko.com/theme/css/style-xlarge.css',
				containers: 1200
			},
			large: {
				media: '(max-width: 1280px)',
				href: 'http://mrsenko.com/theme/css/style-large.css',
				containers: 960,
				grid: { gutters: ['1.5em', 0] },
				viewport: { scalable: false }
			},
			medium: {
				media: '(max-width: 980px)',
				href: 'http://mrsenko.com/theme/css/style-medium.css',
				containers: '90%!'
			},
			small: {
				media: '(max-width: 736px)',
				href: 'http://mrsenko.com/theme/css/style-small.css',
				containers: '90%!',
				grid: { gutters: ['1.25em', 0] }
			},
			xsmall: {
				media: '(max-width: 480px)',
				href: 'http://mrsenko.com/theme/css/style-xsmall.css'
			}
		},
		plugins: {
			layers: {
				navPanel: {
					animation: 'pushX',
					breakpoints: 'medium',
					clickToHide: true,
					height: '100%',
					hidden: true,
					html: '<div data-action="moveElement" data-args="nav"></div>',
					orientation: 'vertical',
					position: 'top-left',
					side: 'left',
					width: 250
				},
				navButton: {
					breakpoints: 'medium',
					height: '4em',
					html: '<span class="toggle" data-action="toggleLayer" data-args="navPanel"></span>',
					position: 'top-left',
					side: 'top',
					width: '6em'
				}
			}
		}
	});

	$(function() {

		var	$window = $(window),
			$body = $('body');

		// Disable animations/transitions until the page has loaded.
			$body.addClass('is-loading');

			$window.on('load', function() {
				$body.removeClass('is-loading');
			});

		// Touch mode.
			if (skel.vars.isMobile)
				$body.addClass('is-touch');

	});

})(jQuery);
</script>		<noscript>
			<link rel="stylesheet" href="http://mrsenko.com/theme/css/skel.css" />
			<link rel="stylesheet" href="http://mrsenko.com/theme/css/style.css" />
			<link rel="stylesheet" href="http://mrsenko.com/theme/css/style-xlarge.css" />
		</noscript>

                <!-- Code highlight color scheme -->
                    <link href="http://mrsenko.com/theme/css/code_blocks/github.css" rel="stylesheet">

                    <meta name="twitter:site" content="@Mr_Senko">
                    <meta name="twitter:title" content="Mr. Senko - Open Source Wizards">
                    <meta name="twitter:description" content="Support for open source libraries">
                    <meta name="twitter:card" content="summary_large_image">
                    <meta name="twitter:image" content="http://mrsenko.com/theme/images/twitter_card.jpg">

                    <meta property="og:site_name" content="Mr. Senko - Open Source Wizards">
                <meta property="og:image" content="http://mrsenko.com/theme/images/og_image.jpg">

    <meta property="og:title" content="Mr. Senko - Open Source Wizards - Articles by Alexander Todorov">
    <meta property="og:type" content="profile">
    <meta property="profile:first_name" content="Alexander">
    <meta property="profile:last_name" content="Todorov">
    <meta property="profile:username" content="atodorov">
	</head>
	<body class="landing">

		<!-- Header -->
			<header id="header" class="alt">
                            <a href="http://mrsenko.com/">
				<img src="http://mrsenko.com/theme/images/logo.png" />
                            </a>
				<nav id="nav">
					<ul>
						<li><strong><a href="http://mrsenko.com/#subscriptions">Our offer</a></strong></li>
						<li><strong><a href="http://mrsenko.com/blog/">Blog</a></strong></li>
						<li><strong><a class="fa fa-twitter" href="https://twitter.com/Mr_Senko"></a></strong></li>
					</ul>
				</nav>
			</header>

            <section id="banner">
    <h2>Articles by<br/>Alexander Todorov</h2>
            </section>

    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/12/30/what-ive-worked-on-in-december-2016/" rel="bookmark" title="Permalink to What I've worked on in December 2016">
                    <h2>What I've worked on in December 2016</h2>
                </a>
            </header>

            <p>Hello everyone, during December I've been working on several
different projects from our supported
<a href="http://mrsenko.com/support/python.html">Python software stack</a>
and also ventured into Ruby land.</p>
<h2>Versions 0.2.3 and 0.2.4 of pelican-ab</h2>
<p><em>pelican-ab</em> is an A/B testing plugin for Pelican, the static site
generator for Python. It allows you to encode experiments in your
templates and renders the experiment selected by the <code>AB_EXPERIMENT</code>
environment variable.</p>
<p>There were two versions released in December 2016 making it compatible
with the newly released <em>Pelican 3.7.0</em>, adding more tests and fixing some
minor bugs.</p>
<h2>Version 0.2.8 of django-chartit</h2>
<p>I have worked on a new version for django-chartit which adds support for
<a href="http://mrsenko.com/blog/mr-senko/2016/12/13/using-model-properties-and-raw-sql-with-django-chartit/">model properties and raw SQL queries in charts</a>.
I've also done internal work for further refactoring but without
anything concrete yet!</p>
<h2>New extensions for pylint</h2>
<p>I've worked on the new
<a href="https://github.com/PyCQA/pylint/pull/1183">compare-to-empty-string</a>
extension for pylint. Using this extension the following snippet</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">S</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="k">if</span> <span class="n">S</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>


<p>will be flagged as problematic because it can be written in a more natural way:</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">S</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">S</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>


<p>The extension will be disabled by default because empty string may be
a valid value depending on the behavior of your program. I have also
created a similar extension to flag integer comparisons against zero,
see <a href="https://github.com/PyCQA/pylint/pull/1243">pylint#1243</a>.
While these may seem a bit extreme they are very useful to identify
code which can be refactored to reduce comparisons
when coupled with mutation testing!</p>
<h2>New Rspec formatters</h2>
<p>I've worked on two new formatters for Rspec:</p>
<ul>
<li><a href="https://github.com/MrSenko/rspec_numbered_documentation">rspec_numbered_documentation</a>;</li>
<li><a href="https://github.com/MrSenko/rspec_key_value">rspec_key_value</a>.</li>
</ul>
<p>Both add simple syntactic sugar to how Rspec output can be formatted and make it
easier for debugging or sending off for further machine processing.</p>
<p>I hope you like my work and please
<strong><a href="http://mrsenko.com/subscribe.html">subscribe to Mr. Senko</a></strong>
if you need faster response cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Fri 30 December 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/12/30/what-ive-worked-on-in-december-2016/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/11/30/what-ive-worked-on-in-november-2016/" rel="bookmark" title="Permalink to What I've worked on in November 2016">
                    <h2>What I've worked on in November 2016</h2>
                </a>
            </header>

            <p>Hello everyone, during November I've been focusing on
Cosmic Ray, pylint and django-chartit which are
supported packages in our
<a href="http://mrsenko.com/support/python.html">Python software stack</a>.</p>
<p>The changes include</p>
<ul>
<li>Cosmic Ray will not fail if baseline test execution fails, see
  <a href="https://github.com/sixty-north/cosmic-ray/pull/181">PR #181</a>;</li>
<li>Cosmic Ray refactoring in skipping mutations to self, see
  <a href="https://github.com/sixty-north/cosmic-ray/pull/180">PR #180</a>;</li>
<li>Added new checker to pylint. Statements using <code>len(SEQUENCE)</code> are
  checked more thoroughly. If there are comparisons to 0 these should
  be refactored. See <a href="https://github.com/PyCQA/pylint/pull/1154">PR #1154</a>.</li>
<li>Fixed small pylint typo;</li>
<li>Started work on support for <code>RawQuerySet</code> in django-chartit. This also alignes
  with support for model properties. There is a POC solution proposed to
  requesters and waiting for feedback. New version of django-chartit will be released
  very soon, see <a href="https://github.com/chartit/django-chartit/issues/44">#44</a> and
  <a href="https://github.com/chartit/django-chartit/issues/35">#35</a>.</li>
</ul>
<p>I hope you like my work and please
<strong><a href="http://mrsenko.com/subscribe.html">subscribe to Mr. Senko</a></strong>
if you need faster response cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Wed 30 November 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/11/30/what-ive-worked-on-in-november-2016/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/10/31/status-report-for-october-2016/" rel="bookmark" title="Permalink to Status Report for October 2016">
                    <h2>Status Report for October 2016</h2>
                </a>
            </header>

            <p>Hello everyone, during October I've been focusing on
<a href="https://github.com/sixty-north/cosmic-ray">Cosmic Ray</a> which
is a supported package of our
<a href="http://mrsenko.com/support/python.html">Python software stack</a>.</p>
<p>The changes include</p>
<ul>
<li>Report only SURVIVED mutants if <code>--full-report</code> is not specified;</li>
<li>Refactoring of <code>MutationCore.visit_mutation_site()</code>;</li>
<li>Update of comparison operators mutations based on the new behavior;</li>
<li>Refactoring of <code>UnaryOp</code> mutation operators based on the new behavior
  and introduction of more mutations;</li>
<li>Update <code>BinaryOp</code> mutation operators and add more mutations;</li>
<li>Update of <code>tools/inspector.py</code> to follow the latest code.</li>
</ul>
<p>All of my work this month was around <code>visit_mutation_site()</code> being able
to generate multiple mutations at a single site. For example the code</p>
<div class="highlight"><pre><span></span>a &lt; b
</pre></div>


<p>can be mutated into:</p>
<div class="highlight"><pre><span></span>a &lt;= b
a is not b
a &gt; b
... etc
</pre></div>


<p>Previously this was done using different mutation operators but now it
is done using a single class and an index to the desired operator replacement.
As a follow up other mutation operators had to be updated as well. As a result
the code base is cleaner and easier to understand.</p>
<p>I hope you like my work and please
<strong><a href="http://mrsenko.com/subscribe.html">subscribe to Mr. Senko</a></strong>
if you need faster response cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Mon 31 October 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/10/31/status-report-for-october-2016/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/10/04/status-report-for-september-2016/" rel="bookmark" title="Permalink to Status Report for September 2016">
                    <h2>Status Report for September 2016</h2>
                </a>
            </header>

            <p>Hello everyone, during September I've been focusing on
<a href="https://github.com/sixty-north/cosmic-ray">Cosmic Ray</a> which
is a supported package of our Python software stack.</p>
<p>The changes include better error checking when running the test suite in
Travis CI, fixes for some code smells and style updates, some Python 3.3
compatibility fixes, traceback fix for Python 3.4, new <code>and-or</code> replacement
operators and internal refactoring.</p>
<p>During my work on <code>and-or</code> replacement operators it turned out that <em>Cosmic Ray</em>
didn't support the notion of one operator producing multiple code mutations.
This required refactoring of project internals and is now currently supported.
As a follow up there are a couple more issues opened to clean up the existing
code, mainly the comparisons replacement operators.</p>
<p><strong>NOTE</strong> <em>Cosmic Ray</em> is still not compatible with Python 3.3 and will probably
never be, despite my work. In <code>cosmic_ray/importing.py</code> we make use of
<code>importlib.machinery.ModuleSpec</code> which was introduced in 3.4 and at this moment
we don't want to backport and support this for Python 3.3. The rest of the code
is 3.3 compatible though.</p>
<p>During September I have also worked on
<a href="http://mrsenko.com/blog/mr-senko/2016/09/14/new-release-django-chartit-027/">django-chartit v0.2.7</a> to fix
a nasty <a href="http://mrsenko.com/blog/atodorov/2016/09/14/beware-of-recursion-loop-when-using-super/">recursion loop</a>
bug. The follow up of this bug is 
<a href="https://github.com/PyCQA/pylint/pull/1109">pylint #1109</a>, which is now merged
into master!</p>
<p>I hope you like my work and please
<strong><a href="http://mrsenko.com/subscribe.html">subscribe to Mr. Senko</a></strong>
if you need faster response cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Tue 04 October 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/10/04/status-report-for-september-2016/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/09/14/beware-of-recursion-loop-when-using-super/" rel="bookmark" title="Permalink to Beware of recursion loop when using super()">
                    <h2>Beware of recursion loop when using super()</h2>
                </a>
            </header>

            <p>When working with class inheritance in Python you often find yourself using
<code>super()</code> to call the parent class methods. The format is</p>
<div class="highlight"><pre><span></span><span class="nb">super</span><span class="p">([</span><span class="n">current</span> <span class="k">class</span> <span class="nc">name</span><span class="p">],</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="p">[</span><span class="n">base</span> <span class="k">class</span> <span class="nc">method</span><span class="p">]([</span><span class="n">arguments</span><span class="p">])</span>
</pre></div>


<p>When you have lots of similar code you may be tempted to short-cut the writing
of <code>current class name</code>. The two possibilities are</p>
<div class="highlight"><pre><span></span><span class="nb">super</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">some_method</span><span class="p">()</span>
<span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">some_method</span><span class="p">()</span>
</pre></div>


<p>I have seen this in production code. I'm guilty myself as well because I like
to use the <code>self.__class__</code> notation! This leads to problems, see
<a href="https://github.com/chartit/django-chartit/issue/41">django-chartit #41</a>, when
you inherit from the class which uses these shortcuts. For example</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Base</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s1">&#39;original&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span>

<span class="k">class</span> <span class="nc">Derived</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s1">&#39;derived&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span>
        <span class="nb">super</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
        <span class="c1"># super(self.__class__, self).method()</span>

<span class="k">class</span> <span class="nc">Subclass</span><span class="p">(</span><span class="n">Derived</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s1">&#39;subclass of derived&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Subclass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</pre></div>


<p>When you call <code>Derived().method()</code> the result is </p>
<div class="highlight"><pre><span></span>derived &lt;class &#39;__main__.Derived&#39;&gt; &lt;class &#39;__main__.Derived&#39;&gt;
original &lt;class &#39;__main__.Derived&#39;&gt; &lt;class &#39;__main__.Derived&#39;&gt;
</pre></div>


<p>Here both shortcuts are evaluated correctly. However when you call
<code>Subclass().method()</code> the result becomes</p>
<div class="highlight"><pre><span></span>subclass of derived &lt;class &#39;__main__.Subclass&#39;&gt; &lt;class &#39;__main__.Subclass&#39;&gt;
derived &lt;class &#39;__main__.Subclass&#39;&gt; &lt;class &#39;__main__.Subclass&#39;&gt;
derived &lt;class &#39;__main__.Subclass&#39;&gt; &lt;class &#39;__main__.Subclass&#39;&gt;
derived &lt;class &#39;__main__.Subclass&#39;&gt; &lt;class &#39;__main__.Subclass&#39;&gt;
... skip ...
RuntimeError: maximum recursion depth exceeded while calling a Python object
</pre></div>


<p>In the example the call <code>super(Subclass)</code> works fine and invokes
<code>Derived.method()</code> as expected. Then we call <code>super(Subclass)</code> inside <code>Derived.method()</code>
which leads back to where we were hence the recursion loop. The problem is only visible
when you have other classes that inherit from a class which uses incorrect
invocation of <code>super()</code>. This is why it may lay hidden in production software!</p>
<p>I definitely expected a severe code smell like that to be discovered by pylint
and Landscape.io. Indeed older versions (pylint-1.3.1-1.el7.noarch) will report
error for <code>super(type(self))</code> but not newer ones. As it turns out pylint didn't
have a test for this condition and have introduced a regression in the
master branch. I believe this is due to that fact that they didn't check for
using <code>type()</code> directly but rather that was a side effect which ceased to exist
once the code was updated.
<a href="https://github.com/PyCQA/pylint/pull/1109">Pylint#1109</a> adds tests for
the two code smells described above and updates the checkers to explicitly
detect them! Happy testing!</p>
<p>I hope you like my work and please
<strong><a href="http://mrsenko.com/subscribe.html">subscribe to Mr. Senko's support service</a></strong>
should you need commercial support for this or other open source libraries!</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Wed 14 September 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/09/14/beware-of-recursion-loop-when-using-super/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/08/31/august-2016-status-report/" rel="bookmark" title="Permalink to August 2016 Status Report">
                    <h2>August 2016 Status Report</h2>
                </a>
            </header>

            <p>Hello everyone, during August I've been focusing on
<a href="https://github.com/chartit/django-chartit">django-chartit</a> which
is a supported package of our Python software stack.</p>
<p>Since I've taken over maintenance from Praveen Gollakota there
were several bug-fix releases, 3 of them in August. The result is
6 closed issues and increased test coverage. I've spent time to
refactor parts of the code and make it compatible with the latest
Django version. Also cleaned up code smells identified by Landscape.io.</p>
<p>Future plans for <em>django-chartit</em> include working on the remaining
open issues. I think I will have to refactor the code a lot more
to make it compatible with the latest Highcharts.js API before
being able to implement the requested features.</p>
<p>I have also spoken with Highcharts engineering on the topic of
testing their JavaScript charting code in the context of <em>django-chartit</em>.
My idea is to load the demo project using various versions of the
JavaScript library and make sure everything works on the client side.
This appears to be doable with Selenium.</p>
<p>I hope you like my work and please
<strong><a href="http://mrsenko.com/subscribe.html">subscribe to Mr. Senko</a></strong>
if you need faster response cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Wed 31 August 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/08/31/august-2016-status-report/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/08/30/loading-initial-data-for-many-to-many-fields/" rel="bookmark" title="Permalink to Loading initial data for Many-To-Many fields">
                    <h2>Loading initial data for Many-To-Many fields</h2>
                </a>
            </header>

            <p>Previously I've written about how to
<a href="http://mrsenko.com/blog/atodorov/2016/08/08/converting-json-fixtures-to-django-migrations/">use JSON fixtures in Django migrations</a>.
This becomes a bit more complicated when you have <code>ManyToMany</code> fields in
your models. A corner case is when you have a <code>ManyToMany</code> relation to <code>self</code>.
The example below comes from <a href="https://github.com/chartit/django-chartit">django-chartit</a>.</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Book</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">rating</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FloatField</span><span class="p">()</span>
    <span class="n">rating_count</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
    <span class="n">authors</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Author</span><span class="p">)</span>
    <span class="n">publisher</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Publisher</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">)</span>
    <span class="n">published_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">related</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s1">&#39;self&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">genre</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Genre</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">)</span>
</pre></div>


<p>The fields <code>authors</code> and <code>related</code> are
represented as separate tables and are computed when you access objects from this
model. Django automatically handles these fields and creates classes for them.
Before you can use them, you need a reference to their model classes.</p>
<div class="highlight"><pre><span></span><span class="n">Book</span> <span class="o">=</span> <span class="n">apps</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;demoproject&quot;</span><span class="p">,</span> <span class="s2">&quot;Book&quot;</span><span class="p">)</span>
<span class="n">BookRelated</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">BookAuthors</span> <span class="o">=</span> <span class="bp">None</span>
<span class="k">for</span> <span class="n">relation</span> <span class="ow">in</span> <span class="n">Book</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">many_to_many</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">relation</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;related&#39;</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">BookRelated</span> <span class="o">=</span> <span class="n">relation</span><span class="o">.</span><span class="n">remote_field</span><span class="o">.</span><span class="n">through</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="c1"># available in Django 1.8</span>
            <span class="n">BookRelated</span> <span class="o">=</span> <span class="n">relation</span><span class="o">.</span><span class="n">rel</span><span class="o">.</span><span class="n">through</span>

    <span class="k">if</span> <span class="n">relation</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;authors&#39;</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">BookAuthors</span> <span class="o">=</span> <span class="n">relation</span><span class="o">.</span><span class="n">remote_field</span><span class="o">.</span><span class="n">through</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="c1"># available in Django 1.8</span>
            <span class="n">BookAuthors</span> <span class="o">=</span> <span class="n">relation</span><span class="o">.</span><span class="n">rel</span><span class="o">.</span><span class="n">through</span>
</pre></div>


<p>The JSON data looks like this</p>
<div class="highlight"><pre><span></span><span class="p">{</span> <span class="nt">&quot;fields&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;authors&quot;</span> <span class="p">:</span> <span class="p">[</span>  <span class="p">],</span>
    <span class="nt">&quot;genre_id&quot;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nt">&quot;publisher_id&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nt">&quot;rating&quot;</span> <span class="p">:</span> <span class="mf">3.8999999999999999</span><span class="p">,</span>
    <span class="nt">&quot;rating_count&quot;</span> <span class="p">:</span> <span class="mi">1869</span><span class="p">,</span>
    <span class="nt">&quot;related&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mi">10</span> <span class="p">],</span>
    <span class="nt">&quot;title&quot;</span> <span class="p">:</span> <span class="s2">&quot;Freakonomics&quot;</span>
  <span class="p">},</span>
<span class="nt">&quot;model&quot;</span> <span class="p">:</span> <span class="s2">&quot;Book&quot;</span><span class="p">,</span>
<span class="nt">&quot;pk&quot;</span> <span class="p">:</span> <span class="mi">9</span>
<span class="p">}</span><span class="err">,</span>
<span class="p">{</span> <span class="nt">&quot;fields&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;authors&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mi">24</span> <span class="p">],</span>
    <span class="nt">&quot;genre_id&quot;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="nt">&quot;publisher_id&quot;</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="nt">&quot;rating&quot;</span> <span class="p">:</span> <span class="mf">4.4000000000000004</span><span class="p">,</span>
    <span class="nt">&quot;rating_count&quot;</span> <span class="p">:</span> <span class="mi">222</span><span class="p">,</span>
    <span class="nt">&quot;related&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">21</span> <span class="p">],</span>
    <span class="nt">&quot;title&quot;</span> <span class="p">:</span> <span class="s2">&quot;Hyperspace&quot;</span>
     <span class="p">},</span>
<span class="nt">&quot;model&quot;</span> <span class="p">:</span> <span class="s2">&quot;Book&quot;</span><span class="p">,</span>
<span class="nt">&quot;pk&quot;</span> <span class="p">:</span> <span class="mi">24</span>
<span class="p">}</span><span class="err">,</span>
</pre></div>


<p>Once we have our related model classes we proceed to store the data
in the database like so</p>
<div class="highlight"><pre><span></span><span class="c1"># create Book objects</span>
<span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">json_data</span><span class="p">:</span>
    <span class="c1"># skip everything which isn&#39;t a book</span>
    <span class="k">if</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;Book&#39;</span><span class="p">:</span>
        <span class="k">continue</span>

    <span class="c1"># build a list of book authors using the intermediate BookAuthors model</span>
    <span class="k">for</span> <span class="n">author_id</span> <span class="ow">in</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">][</span><span class="s1">&#39;authors&#39;</span><span class="p">]:</span>
        <span class="n">author_obj</span> <span class="o">=</span> <span class="n">BookAuthors</span><span class="p">()</span>
        <span class="n">author_obj</span><span class="o">.</span><span class="n">book_id</span> <span class="o">=</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;pk&#39;</span><span class="p">]</span>
        <span class="n">author_obj</span><span class="o">.</span><span class="n">author_id</span> <span class="o">=</span> <span class="n">author_id</span>
        <span class="n">author_obj</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="c1"># you can&#39;t save the `authors` field directly in DB</span>
    <span class="k">del</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">][</span><span class="s1">&#39;authors&#39;</span><span class="p">]</span>

    <span class="c1"># build a list of related books using the intermediate BookRelated model</span>
    <span class="k">for</span> <span class="n">related_id</span> <span class="ow">in</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">][</span><span class="s1">&#39;related&#39;</span><span class="p">]:</span>
        <span class="n">related_obj</span> <span class="o">=</span> <span class="n">BookRelated</span><span class="p">()</span>
        <span class="n">related_obj</span><span class="o">.</span><span class="n">from_book_id</span> <span class="o">=</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;pk&#39;</span><span class="p">]</span>
        <span class="n">related_obj</span><span class="o">.</span><span class="n">to_book_id</span> <span class="o">=</span> <span class="n">related_id</span>
        <span class="n">related_obj</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="c1"># you can&#39;t save the `related` field directly in DB</span>
    <span class="k">del</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">][</span><span class="s1">&#39;related&#39;</span><span class="p">]</span>

    <span class="c1"># finally save the Book object</span>
    <span class="n">model_class</span> <span class="o">=</span> <span class="n">apps</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="s2">&quot;demoproject&quot;</span><span class="p">,</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">])</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="n">model_class</span><span class="p">(</span><span class="o">**</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">])</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;pk&#39;</span><span class="p">]</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>


<p>This works well for <em>django-chartit</em>. You should take care to
remove the <code>ManyToMany</code> fields from the JSON data because they
don't actually exist in the <code>Book</code> class and Django will raise
an exception if you try to assign to them.</p>
<p>I hope you like my work and please
<strong><a href="http://mrsenko.com/subscribe.html">subscribe to Mr. Senko's support service</a></strong>
should you need commercial support for this or other open source libraries!</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Tue 30 August 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/08/30/loading-initial-data-for-many-to-many-fields/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/08/08/converting-json-fixtures-to-django-migrations/" rel="bookmark" title="Permalink to Converting JSON Fixtures to Django Migrations">
                    <h2>Converting JSON Fixtures to Django Migrations</h2>
                </a>
            </header>

            <p>Older Django apps like
<a href="https://github.com/chartit/django-chartit">django-chartit</a> and
<a href="https://github.com/Nitrate/Nitrate">Nitrate</a> used JSON fixtures to populate
their databases with initial data. In this article I will show you an easy way
to convert JSON fixtures into native Django migrations.
The JSON fixture looks like this</p>
<div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Seth&quot;</span><span class="p">,</span>
            <span class="nt">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Godin&quot;</span>
            <span class="p">},</span>
 <span class="nt">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;demoproject.Author&quot;</span><span class="p">,</span>
 <span class="nt">&quot;pk&quot;</span><span class="p">:</span> <span class="mi">1</span>
 <span class="p">}</span><span class="err">,</span>
<span class="p">{</span><span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Guy&quot;</span><span class="p">,</span>
            <span class="nt">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Kawasaki&quot;</span>
            <span class="p">},</span>
 <span class="nt">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;demoproject.Author&quot;</span><span class="p">,</span>
 <span class="nt">&quot;pk&quot;</span><span class="p">:</span> <span class="mi">2</span>
 <span class="p">}</span><span class="err">,</span>
<span class="p">{</span><span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Geoffrey&quot;</span><span class="p">,</span>
            <span class="nt">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Colvin&quot;</span>
            <span class="p">},</span>
 <span class="nt">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;demoproject.Author&quot;</span><span class="p">,</span>
 <span class="nt">&quot;pk&quot;</span><span class="p">:</span> <span class="mi">3</span>
 <span class="p">}</span>
</pre></div>


<p>Notice the <code>pk</code> and <code>model</code> fields which tell us where this data came from
and what was the object PK when exported from the database. The <code>fields</code>
dict is the actual data for this object.</p>
<p>In Python we can use <code>json.loads</code> and read the fixture data from disk or
even better assign it directly to a variable inside our Python source file.
Then iterate over all values and create the objects programmatically like this</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">migrations</span>


<span class="k">def</span> <span class="nf">initialize_data</span><span class="p">(</span><span class="n">apps</span><span class="p">,</span> <span class="n">schema_editor</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Seth&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Godin&quot;</span>
                    <span class="p">},</span>
         <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;demoproject.Author&quot;</span><span class="p">,</span>
         <span class="s2">&quot;pk&quot;</span><span class="p">:</span> <span class="mi">1</span>
         <span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Guy&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Kawasaki&quot;</span>
                    <span class="p">},</span>
         <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;demoproject.Author&quot;</span><span class="p">,</span>
         <span class="s2">&quot;pk&quot;</span><span class="p">:</span> <span class="mi">2</span>
         <span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Geoffrey&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Colvin&quot;</span>
                    <span class="p">},</span>
         <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;demoproject.Author&quot;</span><span class="p">,</span>
         <span class="s2">&quot;pk&quot;</span><span class="p">:</span> <span class="mi">3</span>
         <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">app_name</span><span class="p">,</span> <span class="n">model_name</span> <span class="o">=</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
        <span class="n">ModelClass</span> <span class="o">=</span> <span class="n">apps</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="n">app_name</span><span class="p">,</span> <span class="n">model_name</span><span class="p">)</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">ModelClass</span><span class="p">(</span><span class="o">**</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">])</span>
        <span class="c1"># this is required only if you have other models</span>
        <span class="c1"># with foreign keys referring to this object</span>
        <span class="c1"># obj.pk = record[&#39;pk&#39;]</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Migration</span><span class="p">(</span><span class="n">migrations</span><span class="o">.</span><span class="n">Migration</span><span class="p">):</span>

    <span class="n">dependencies</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s1">&#39;demoproject&#39;</span><span class="p">,</span> <span class="s1">&#39;0001_initial&#39;</span><span class="p">)</span>
    <span class="p">]</span>

    <span class="n">operations</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">migrations</span><span class="o">.</span><span class="n">RunPython</span><span class="p">(</span><span class="n">initialize_data</span><span class="p">),</span>
    <span class="p">]</span>
</pre></div>


<p>This works well for most of the cases. You should take care to assign the
same PKs in case there are other objects that hold references to them. If
this isn't the case then you can drop these fields entirely to reduce your
source code size.</p>
<p>I hope you like my work and please
<strong><a href="http://mrsenko.com/subscribe.html">subscribe to Mr. Senko's support service</a></strong>
should you need commercial support for this or other open source libraries!</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Mon 08 August 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/08/08/converting-json-fixtures-to-django-migrations/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/07/30/july-2016-status-report/" rel="bookmark" title="Permalink to July 2016 Status Report">
                    <h2>July 2016 Status Report</h2>
                </a>
            </header>

            <p>Hello everyone, July has been relatively busy in terms of pull requests.
I've been working on <em>Cosmic Ray</em> the mutation testing tool for Python
and in the last couple of days taken over maintenance of <em>django-chartit</em>.</p>
<p>I've made several improvements against <em>Cosmic Ray</em>. The most notable
are:</p>
<ul>
<li>Added support for nosetests test runner;</li>
<li>Added a True-False, False-True replacer operator;</li>
<li>Added workaround for empty <code>__init__.py</code> files which addresses
<a href="http://bugs.python.org/issue27578">Python #27578</a>;</li>
<li>Made <em>Cosmic Ray</em> accept directories and .py file names as possible
inputs which works like a charm for users who rely heavily on bash completion;</li>
</ul>
<p>I will be continuing to work on <em>Cosmic Ray</em> and also integrate mutation testing
as part of the standard testing toolset used by Mr. Senko.</p>
<p>Then I've started working on
<a href="https://github.com/chartit/django-chartit">django-chartit</a> which is a very
popular module that has been abandoned in the last couple of years.
My immediate goal was to merge back the
<a href="https://github.com/grantmcconnaughey/django-chartit2">django-chartit2</a> fork
by Grant McConnaughey, which adds Python 3 and latest Django support and merge
some pending pull requests.
I've been working on fixing quite a few errors and warnings reported by the test
tools and getting the documentation up to speed. A much anticipated release on
PyPI will be coming out very soon. Once the merger between <em>django-chartit</em> and
<em>django-chartit2</em> is complete I will continue working on the reported issues.</p>
<p>I hope you like my work and please
<strong><a href="http://mrsenko.com/subscribe.html">subscribe to Mr. Senko</a></strong>
if you need a faster response cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Sat 30 July 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/07/30/july-2016-status-report/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/06/30/june-2016-status-report/" rel="bookmark" title="Permalink to June 2016 Status Report">
                    <h2>June 2016 Status Report</h2>
                </a>
            </header>

            <p>Hello everyone, last month has been a bit of a holiday and I don't have much
to share. I've been playing around with mutation testing tools. The few
patches I did are both related to <em>Cosmic Ray</em>:</p>
<ul>
<li>Allow session-name.json to be passed on the command line,
  <a href="https://github.com/sixty-north/cosmic-ray/pull/144">PR #144</a></li>
<li>Report the mutation results using unified diff format,
  <a href="https://github.com/sixty-north/cosmic-ray/pull/145">PR #145</a></li>
</ul>
<p>Right now I'm experimenting with running mutation testing against a few
popular open source libraries, written in both Python and Ruby.
So far the tools seem to work fine, except minor issues. However the test
suites I've been playing with aren't very robust and most of the mutants stay
alive! I will write another blog post on the subject once I have more
information to share. I hope you like my work and please
<strong>subscribe to <a href="http://mrsenko.com/subscribe.html">Mr. Senko</a>!</strong>
if need a faster response cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Thu 30 June 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/06/30/june-2016-status-report/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/05/31/may-2016-status-report/" rel="bookmark" title="Permalink to May 2016 Status Report">
                    <h2>May 2016 Status Report</h2>
                </a>
            </header>

            <p>Here is a quick status report of my work for <a href="http://MrSenko.com">Mr. Senko</a>. During
May 2016 I've worked on:</p>
<ul>
<li>New feature: display social icons in index page header for
<a href="https://github.com/gilsondev/pelican-clean-blog/pull/43">pelican-clean-blog</a>;</li>
<li>Enabled StatusCake Real User Monitoring (RUM) for
<a href="https://github.com/alexandrevicenzi/Flex/pull/41">Flex</a>;</li>
<li>Worked on improving assets plugin support for
<a href="https://github.com/alexandrevicenzi/Flex/pull/40">Flex</a>
after the original author didn't update their PR;</li>
<li>Proposed several fixes for
<a href="https://github.com/getpelican/pelican/pulls/atodorov">Pelican</a>
to bugs labeled with the 3.7 milestone;</li>
<li>Forked, merged and updated the
<a href="http://mrsenko.com/blog/mr-senko/2016/05/25/reviving-pelican-octopress-and-pelipress/">pelican-octopress-theme</a>;</li>
<li>Released
<a href="http://mrsenko.com/blog/mr-senko/2016/05/12/ab-testing-with-jinja2-and-pelican/">A/B testing tools for Jinja and Pelican</a>;</li>
<li>Released
<a href="http://mrsenko.com/blog/mr-senko/2016/05/18/triggering-automatic-dependency-testing/">Strazar</a> -
a monitoring tool that we use to automatically trigger new builds in Travis-CI;</li>
<li>Started working on
<a href="https://github.com/pypa/warehouse/pull/1203">warehouse</a> - the new code
which will run PyPI.</li>
</ul>
<h2>Focusing on abandoned pull requests</h2>
<p>While working on several issues I've noticed pull requests that were well
written but they had minor issues, for example code formatting. The code
review was done in the initial PR but the author didn't update their patches.
As a result of this the pull request stayed open for a long time.
I've also been focusing on issues and pull requests which were labeled for
a particular release but were left open for quite a long time. Hopefully
we'll see those releases coming out soon.</p>
<p>I hope you like my work and please
<strong>subscribe to <a href="http://mrsenko.com/subscribe.html">Mr. Senko</a>!</strong>
if need a faster response cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Tue 31 May 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/05/31/may-2016-status-report/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/05/05/conditional-include-in-jinja2-and-pelican/" rel="bookmark" title="Permalink to Conditional Include in Jinja2 and Pelican">
                    <h2>Conditional Include in Jinja2 and Pelican</h2>
                </a>
            </header>

            <p>How do you create Jinja templates which behave differently based
on what Pelican plugins are loaded ? I've hit this problem while
working on improving
<a href="https://github.com/alexandrevicenzi/Flex/pull/20">Flex PR #20</a>.
The straight forward solution looks like this</p>
<div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">name</span> <span class="k">in</span> <span class="nv">PLUGINS</span> <span class="k">if</span> <span class="nv">name</span> <span class="o">==</span> <span class="s1">&#39;assets&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">assets</span> <span class="s2">&quot;stylesheet/style.css&quot;</span><span class="o">,</span> <span class="nv">filters</span><span class="o">=</span><span class="s2">&quot;cssmin&quot;</span><span class="o">,</span> <span class="nv">output</span><span class="o">=</span><span class="s2">&quot;style.min.css&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;</span><span class="cp">{{</span> <span class="nv">SITEURL</span> <span class="cp">}}</span><span class="x">/</span><span class="cp">{{</span> <span class="nv">ASSET_URL</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endassets</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;</span><span class="cp">{{</span> <span class="nv">SITEURL</span> <span class="cp">}}</span><span class="x">/</span><span class="cp">{{</span> <span class="nv">THEME_STATIC_DIR</span> <span class="cp">}}</span><span class="x">/stylesheet/style.min.css&quot;&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>


<p>It appears to work great except when the <code>assets</code> plugin isn't loaded.
Then we get a <a href="https://github.com/pallets/jinja/pull/582">TemplateSyntaxError</a>:</p>
<div class="highlight"><pre><span></span><span class="n">TemplateSyntaxError</span><span class="o">:</span> <span class="n">Encountered</span> <span class="n">unknown</span> <span class="n">tag</span> <span class="s1">&#39;assets&#39;</span><span class="o">.</span>
<span class="n">Jinja</span> <span class="n">was</span> <span class="n">looking</span> <span class="k">for</span> <span class="n">the</span> <span class="n">following</span> <span class="n">tags</span><span class="o">:</span> <span class="s1">&#39;endfor&#39;</span> <span class="n">or</span> <span class="s1">&#39;else&#39;</span><span class="o">.</span>
<span class="n">The</span> <span class="n">innermost</span> <span class="n">block</span> <span class="n">that</span> <span class="n">needs</span> <span class="n">to</span> <span class="n">be</span> <span class="n">closed</span> <span class="k">is</span> <span class="s1">&#39;for&#39;</span><span class="o">.</span><span class="err">`</span>
</pre></div>


<p>The <code>{% assets %}</code> tag is not defined because the <code>assets</code> plugin is missing.
We may expect that Jinja will parse this tag only if the body of the for loop is
executed but instead Jinja tries to parse all tags before rendering the template.
The solution, as proposed by @ThiefMaster on GitHub, is to use a conditional
<code>{% include %}</code> tag inside the for loop body like so</p>
<div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">name</span> <span class="k">in</span> <span class="nv">PLUGINS</span> <span class="k">if</span> <span class="nv">name</span> <span class="o">==</span> <span class="s1">&#39;assets&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;assets.html&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;</span><span class="cp">{{</span> <span class="nv">SITEURL</span> <span class="cp">}}</span><span class="x">/</span><span class="cp">{{</span> <span class="nv">THEME_STATIC_DIR</span> <span class="cp">}}</span><span class="x">/stylesheet/style.min.css&quot;&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>


<p>Where <code>assets.html</code> looks like this</p>
<div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">assets</span> <span class="s2">&quot;stylesheet/style.css&quot;</span><span class="o">,</span> <span class="nv">filters</span><span class="o">=</span><span class="s2">&quot;cssmin&quot;</span><span class="o">,</span> <span class="nv">output</span><span class="o">=</span><span class="s2">&quot;style.min.css&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;</span><span class="cp">{{</span> <span class="nv">SITEURL</span> <span class="cp">}}</span><span class="x">/</span><span class="cp">{{</span> <span class="nv">ASSET_URL</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span>
<span class="cp">{%</span> <span class="k">endassets</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>


<p>I don't like splitting out the HTML code in this way. Imagine that we later decide to
add a second CSS file to the template. The risk of forgetting to add it in both places
increases as the number of CSS files (or places where we use the same HTML pattern)
increases. However this appears to be the only way to conditionally use the <code>assets</code>
plugin only when it is loaded. The proposed changes are in
<a href="https://github.com/alexandrevicenzi/Flex/pull/40">Flex PR #40</a>.</p>
<p>I hope you like my work and please
<strong>subscribe to <a href="http://mrsenko.com/subscribe.html">Mr. Senko</a></strong>
if you need a faster release cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Thu 05 May 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/05/05/conditional-include-in-jinja2-and-pelican/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/atodorov/2016/05/03/april-2016-report/" rel="bookmark" title="Permalink to April 2016 Report">
                    <h2>April 2016 Report</h2>
                </a>
            </header>

            <p>Here is a quick status report of my work for <a href="http://MrSenko.com">Mr. Senko</a>. During
April 2016 I've worked on:</p>
<ul>
<li>Additional patches to the <a href="https://github.com/Nitrate/Nitrate/pulls/atodorov">Nitrate</a>
test case management system;</li>
<li>New features for the <a href="https://github.com/railslove/i18n_viz/pulls/atodorov">i18n_viz</a>
Ruby gem;</li>
<li>New features for <a href="https://github.com/getpelican/pelican/pull/1926">Pelican</a>.</li>
</ul>
<h2>Nitrate</h2>
<p>As I've written previously Nitrate is a test case management system, which we use internally.
Unfortunately it is using very old version of Django and it is not so easy to migrate
forward.</p>
<p>I've decided to stall all of my previous pull requests and focus on getting the tests
up and running in Travis-CI before going forward. I've managed to fix a few of them
locally but then hit a road block. The fact that the Nitrate team is very limited in
capacity (only 1 person at the moment) isn't helping either. I will continue working
on this but with lower priority.</p>
<h2>New features for i18n_viz</h2>
<p><a href="https://github.com/railslove/i18n_viz">i18n_viz</a> is a very cool Ruby gem which
lets your browse your own Rails application and visualize and edit your translatable
strings. Think of it as a reversed lookup for translations.
i18n_viz highlights your apps translatable text and adds a tooltip containing
the translation key which links to the translation in your favorite online
translation tool.</p>
<p>I have added the <code>css_override</code> option to allow for better styling of the
highlights and tooltips provided by this gem.
<a href="https://github.com/railslove/i18n_viz/pull/20">PR #20</a> has already been merged
but not released into a new version yet.</p>
<p>I've also fixed a
<a href="https://github.com/railslove/i18n_viz/pull/19">bug with nested HTML tags</a> and
changed the <code>external_tool_url</code> option to support
<a href="https://github.com/railslove/i18n_viz/pull/22">code execution</a>. With this
the user is able to configure the URL to an online translation tool during
runtime. My particular use-case is to include the currently selected locale
in the URL string. These two pull requests are not merged yet and unfortunately
the package author is busy at the moment so it will take some time.</p>
<h2>New features for Pelican</h2>
<p>I've managed to implement more granular control over tag, categories and
author slugs in Pelican in
<a href="https://github.com/getpelican/pelican/pull/1926">PR #1926</a> and the code is
already merged!</p>
<p>Under the hood the <code>slugify()</code> method now can skip replacing non-alphanumeric
characters so you have more control over the generated URLs. I've experienced
this problem when migrating my personal blog from Octopress to Pelican.</p>
<p>Then I've also added the possibility to configure author slugs, which is
useful to blogs with multiple authors or if you want your author slug
to match your GitHub username.
In fact <code>pelicanconf.py</code> for Mr. Senko's blog looks like this:</p>
<div class="highlight"><pre><span></span><span class="n">ARTICLE_URL</span> <span class="o">=</span> <span class="s1">&#39;blog/{author}/{date:%Y}/{date:%m}/{date:</span><span class="si">%d</span><span class="s1">}/{slug}/&#39;</span>
<span class="n">ARTICLE_SAVE_AS</span> <span class="o">=</span> <span class="n">ARTICLE_URL</span> <span class="o">+</span> <span class="s1">&#39;index.html&#39;</span>

<span class="n">AUTHOR_URL</span> <span class="o">=</span> <span class="s1">&#39;blog/{slug}/&#39;</span>
<span class="n">AUTHOR_SAVE_AS</span>  <span class="o">=</span> <span class="n">AUTHOR_URL</span> <span class="o">+</span> <span class="s1">&#39;index.html&#39;</span>

<span class="n">AUTHOR_SUBSTITUTIONS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;Alexander Todorov&#39;</span><span class="p">,</span> <span class="s1">&#39;atodorov&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Krasimir Tsonev&#39;</span><span class="p">,</span>   <span class="s1">&#39;krasimir&#39;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>


<p><strong>NOTE:</strong> older URLs on this blog do not match above settings for
compatibility reasons!</p>
<p>I hope you like my work and please
<strong>consider subscribing to <a href="http://mrsenko.com/subscribe.html">Mr. Senko</a>!</strong>
if need a faster release cycle for the open source libraries you use.</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Tue 03 May 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/atodorov/2016/05/03/april-2016-report/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/2016/03/30/march-2016-report/" rel="bookmark" title="Permalink to March 2016 Report">
                    <h2>March 2016 Report</h2>
                </a>
            </header>

            <p>Here is a quick status report for <a href="http://MrSenko.com">Mr. Senko</a>. During
March 2016 I've worked on:</p>
<ul>
<li>A few more improvements to
<a href="https://github.com/gilsondev/pelican-clean-blog/pulls?q=is%3Apr+author%3Aatodorov+is%3Aclosed">pelican-clean-blog</a>
theme;</li>
<li>Two new features for 
<a href="https://github.com/getpelican/pelican/pulls/atodorov">Pelican</a>;</li>
<li>Several bug fixes and improvements for
<a href="https://github.com/Nitrate/Nitrate/pulls/atodorov">Nitrate</a>.</li>
</ul>
<h2>Nitrate Test Case Management System</h2>
<p><a href="http://nitrate.readthedocs.org/en/latest/guide/introduction.html">Nitrate</a> is
a test case management system written with Django. We use it internally to track
testing activities. It is reasonably good at what it does but there are some
issues with how the software has been developed in the past.</p>
<ul>
<li>
<p>Nitrate is Django based but doesn't follow best Django practices.
There are places where it executes raw SQL against the DB instead of using
Django's ORM model. This makes it non-portable between DBMS.</p>
</li>
<li>
<p>Nitrate has a long development history but poor documentation. It has introduced
DB migrations and updates in a non-Django friendly way. The currently preferred
method is to execute an SQL file against the DB. This is poorly documented and
of course I've missed it. I'm sure others will miss it as well.</p>
</li>
<li>
<p>Going forward with native Django migrations all of these SQL files need to be
converted and I haven't looked into this yet. Another possibility is to just release
a new version which doesn't allow automatic DB updates.</p>
</li>
<li>
<p>There are a bunch of static files (e.g. images) used directly in CSS and JavaScript files.
This immediately breaks if you decide to host your static files elsewhere
(e.g. Amazon S3 bucket). There is an easy fix but it requires the use of latest Django.</p>
</li>
<li>
<p>Django version (and other dependencies) are quite old. This introduces security
risk and also makes it harder to develop new functionality sometimes. I have opened
a PR to bring Django forward to 1.8.11 version but that still needs more work.
Yes I broke the test-suite as part of the migration.</p>
</li>
<li>
<p>So far my impression is that the Nitrate team are slow to respond on GitHub.
Given the current state of Nitrate and the amount of work which needs to be done
this is disappointing.</p>
</li>
</ul>
<p>If you like my work and need a faster response cycle please
<strong>consider subscribing to <a href="http://mrsenko.com/subscribe.html">Mr. Senko</a>!</strong></p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Wed 30 March 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/2016/03/30/march-2016-report/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/2016/02/03/january-2016-report/" rel="bookmark" title="Permalink to January 2016 Report">
                    <h2>January 2016 Report</h2>
                </a>
            </header>

            <p>This is my first status report for <a href="http://MrSenko.com">Mr. Senko</a>. During
January 2016 I've worked on:</p>
<ul>
<li>Improvements to
<a href="https://github.com/gilsondev/pelican-clean-blog/pulls?q=is%3Apr+author%3Aatodorov+is%3Aclosed">pelican-clean-blog</a>
theme</li>
<li>URL updates in <code>package.json</code> for several Node.js packages;</li>
<li>.spec file to build RPMs for
<a href="https://github.com/django-ses/django-ses/pull/83">django-ses</a>;</li>
<li>New test case for
<a href="https://github.com/belgian-elixir-study-group/efl/pull/5">Elixir study exercises</a></li>
<li>Updates to an old PR for
<a href="https://github.com/sphinx-doc/sphinx/pull/1902">Sphinx</a> which also fixes a
new regression;</li>
<li>Filed a
<a href="https://github.com/getpelican/pelican/issues/1902">RFE</a> against Pelican
and will continue working on it this month.</li>
</ul>
<h2>Sphinx broke</h2>
<p>The Sphinx changes are particularly interesting - the fix for
issue #656 in commit 4c4450d changes the Graphviz's
<code>node['options']</code> type from <code>list</code> to <code>dict</code> which in turn breaks
<code>html_visit_inheritance_diagram()</code> and the inheritance_diagram extension.</p>
<p>My previous work on this PR introduced some basic tests, which were missing
and they caught the type change! Because the tests and my latest changes are
not yet merged into master the <code>inheritance_diagram.py</code> extension is still
broken! The tests fail in Travis-CI but probably due to <code>dot</code> not being
installed. Locally everything seems to work.</p>
<p>Its also worth mentioning that it's been 2 weeks since I've updated my PR
and a bit more since Sphinx introduced the regression. As far as I can see
there's not been any updates with respect to this. 
If you'd like to get a
faster response cycle please <strong>consider subscribing to
<a href="http://mrsenko.com/subscribe.html">Mr. Senko</a>!</strong></p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Wed 03 February 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/2016/02/03/january-2016-report/#disqus_thread">comments</a>.</p>        </div>
    </section>
    <section class="wrapper style1">
        <div class="container">
            <header class="major special">
                <a href="http://mrsenko.com/blog/2016/01/10/founding-of-mr-senko/" rel="bookmark" title="Permalink to Founding of Mr. Senko">
                    <h2>Founding of Mr. Senko</h2>
                </a>
            </header>

            <p>Hello everyone, welcome to <a href="http://MrSenko.com">Mr. Senko</a>! We are a group of friends who have
been working with open source for the last 10 years. During this time we've
seen technologies come and go and hype projects becoming abandoned months later.
We've seen the pain when companies had to rewrite their software because of this
and the struggle to get your patches accepted upstream.
Don't you wish you had somebody who could take care of all the hassle for you?</p>
<p>Mr. Senko is our attempt at providing commercial support for open source projects,
specifically libraries which other companies use to build their products. As of now
we have diverse experience in Java, Python and JavaScript as well as my personal
experience with Quality Assurance.</p>
<p>In the next weeks and months we will be refining our value proposition and building
the team so we can offer you great technical support and expertise. We plan to blog
regularly about our progress and about technology and open source events in general! 
You can follow us at <a href="https://twitter.com/Mr_Senko">@Mr_Senko</a> or tweet at the wizard
using the <strong>#MrSenko</strong> hashtag! </p>
<p>Stay tuned for more news!</p>

            <p class="post-meta">Posted by
                    <a href="http://mrsenko.com/blog/atodorov/">Alexander Todorov</a>
                on Sun 10 January 2016
            </p>

<p>There are <a href="http://mrsenko.com/blog/2016/01/10/founding-of-mr-senko/#disqus_thread">comments</a>.</p>        </div>
    </section>

<section class="wrapper special">
    <div class="container">
    <ul class="actions">
        <li>
            Page 1 / 1
        </li>
        </li>
    </ul>
    </div>
</section>
		<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<ul class="icons">
						<li><a href="https://github.com/MrSenko" class="icon fa fa-github"></a></li>
						<li><a href="https://twitter.com/Mr_Senko" class="icon fa fa-twitter"></a></li>
					</ul>
					<ul class="copyright">
						<li>&copy; 2016-2018 Mr. Senko</li>
						<li><a href="/legal/">Legal notice</a></li>
					</ul>
				</div>
			</footer>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-72200638-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>

<!-- LuckyOrange -->
<script type='text/javascript'>
window.__lo_site_id = 55938;
    (function() {
        var wa = document.createElement('script'); wa.type = 'text/javascript'; wa.async = true;
        wa.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://cdn') + '.luckyorange.com/w.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(wa, s);
      })();
</script>
<script type="text/javascript">
    var disqus_shortname = 'mrsenko';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
	</body>
</html>